<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width,initial-scale=1"><style>body{overflow:hidden;background: linear-gradient(to bottom, #000000, #ffffff, #000000);display:flex;justify-content:center;align-items:center;height:100vh;margin:0}body,html{margin:0!important}.modal{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#555;padding:20px;border-radius:10px;display:grid;grid-template-columns:repeat(4,1fr);gap:10px;box-shadow:0 0 20px gold;z-index:10}.modal button{padding:10px;background:#000;color:gold;border:none;font-weight:700;cursor:pointer;box-shadow:0 0 10px gold}</style></head><body><canvas id="pixelCanvas" style="object-fit:contain;position:absolute"></canvas>
  <script>
  const message = "\uD83D\uDD04";
  const numRows = 72;
  const pixelSize = 8;
  const frayLength = pixelSize * 4.04;
  const frayCount = 7;
  const fR1 = 4.93;
  const fR2 = 4.46;
  let color1;
  var isAndroid = /Android/i.test(navigator.userAgent);
  var isIOS = /iPhone|iPad|iPod/i.test(navigator.userAgent);
  if (isAndroid) {
    color1 = "#ffffff";
  } else if (isIOS) {
    color1 = "#ffffff";
  } else {
    color1 = "#ffffff";
  }
  const color2 = "#ffffff";
  const color3 = "#ffffff";
  const color4 = "#ffffff";
  const color5 = color1
  const color6 = "#ffffff";
  const color7 = color1;

const colorMap={5:color6,6:color5,9:"transparent",11:color1,12:color2,13:color3,14:color4};const lW=.0075;function getRandomInt(t,n){return Math.floor(Math.random()*(n-t+1)+t)}function adjustColorBrightness(t,n){const e=t[0]==="#";const o=parseInt(t.slice(1),16);let a=(o>>16)+n;let c=(o>>8&255)+n;let s=(o&255)+n;if(a>255)a=255;else if(a<0)a=0;if(c>255)c=255;else if(c<0)c=0;if(s>255)s=255;else if(s<0)s=0;return(e?"#":"")+(a<<16|c<<8|s).toString(16).padStart(6,"0")}const canvas=document.getElementById("pixelCanvas");const ctx=canvas.getContext("2d");const canvasWidth=1024;const numSpaces=11;const rowLength=canvasWidth/pixelSize;const patternHeight=numRows*pixelSize;const rugPattern=generateRugPattern(numSpaces,numRows,rowLength);canvas.width=canvasWidth;canvas.height=patternHeight;canvas.style.width="100vw";if(numRows<=43){canvas.style.height="100vh"}else{const newVH=100-(numRows-43)*.1;canvas.style.height=`${newVH}vh`}function generateRugPattern(e,o,a){const t=[];for(let n=0;n<o;n++){const c=[];for(let t=0;t<a;t++){if(n===0||n===o-1){c.push(9)}else if(n%2===0){if(t<e||t>=a-e){c.push(9)}else{if(Math.random()<.4){const s=getRandomInt(11,14);c.push(s)}else{c.push(5)}}}else{if(t<e||t>=a-e){c.push(9)}else{if(Math.random()<.4){const s=getRandomInt(11,14);c.push(s)}else{c.push(5)}}}}t.push(c)}return t.flat()}function drawPixelatedText(d,t,n,e){const o=document.createElement("canvas");const a=o.getContext("2d");o.width=canvas.width;o.height=canvas.height;function c(t,n,e,o,a){const c=64;const s=290;const i=320;const r=355;const l=numRows/c;if(isAndroid){t.font=`${s*l*a}px 'Arial'`}else if(isIOS){t.font=`${i*l*a}px 'Arial'`}else{t.font=`${r*l*a}px 'Arial'`}t.textAlign="center";t.textBaseline="middle";t.globalAlpha=.85;t.fillText(d,e*a,o*a)}c(a,d,t*e,n*e,e,color5);const s=a.getImageData(0,0,o.width,o.height);const i=s.data;for(let t=0;t<i.length;t+=4){if(i[t+3]>0){const r=getRandomInt(-40,40);i[t]=Math.min(255,Math.max(0,i[t]+r));i[t+1]=Math.min(255,Math.max(0,i[t+1]+r));i[t+2]=Math.min(255,Math.max(0,i[t+2]+r));if(Math.random()<.5){i[t+3]=i[t+3]*getRandomInt(50,100)/100}}}a.putImageData(s,0,0);ctx.imageSmoothingEnabled=false;ctx.drawImage(o,0,0,o.width,o.height,0,0,canvas.width/e,canvas.height/e)}function drawPixelArtRug(){const e=numSpaces*pixelSize;const o=canvasWidth-numSpaces*pixelSize;const a=pixelSize;const c=canvas.height-pixelSize;for(let n=0;n<rugPattern.length;n++){const s=n%rowLength*pixelSize;const i=Math.floor(n/rowLength)*pixelSize;let t=getColorFromCode(rugPattern[n]);if(rugPattern[n]===5||rugPattern[n]===6){t=adjustColorBrightness(colorMap[6],getRandomInt(-30,30))}if(i/pixelSize%2===0){if(s>=(rowLength-13)*pixelSize){drawRightFrayedEnd(s+pixelSize,i,t)}else if(s<13*pixelSize){drawLeftFrayedEnd(s,i,t)}}}for(let n=0;n<rugPattern.length;n++){const s=n%rowLength*pixelSize;const i=Math.floor(n/rowLength)*pixelSize;if(rugPattern[n]===9)continue;let t=getColorFromCode(rugPattern[n]);if([5,6,11,12,13,14].includes(rugPattern[n])){t=adjustColorBrightness(colorMap[rugPattern[n]],getRandomInt(-40,40));ctx.fillStyle=t;ctx.fillRect(s,i,pixelSize,pixelSize);ctx.setLineDash([6,4]);ctx.strokeStyle=color7;ctx.lineWidth=lW;ctx.strokeRect(e,a,o-e,c-a);ctx.setLineDash([])}}const t=canvas.width/2;var n;if(isAndroid){n=drawPixelatedText(message,t/.125,canvas.height/.235,.125,color5)}else if(isIOS){n=drawPixelatedText(message,t/.126,canvas.height/.245,.125,color5)}else{n=drawPixelatedText(message,t/.125,canvas.height/.225,.125,color5)}}function drawRightFrayedEnd(t,n,e){const o=t+pixelSize-7;for(let t=0;t<frayCount;t++){const a=getRandomInt(-1,1)*(pixelSize/4);const c=Math.PI/fR1-Math.random()*(Math.PI/fR2);const s=o+Math.cos(c)*frayLength;const i=n-10+Math.sin(c)*frayLength+a;ctx.beginPath();ctx.moveTo(o,n);ctx.lineTo(s,i);ctx.strokeStyle=e;ctx.stroke()}}function drawLeftFrayedEnd(t,n,e){const o=t-pixelSize+7;for(let t=0;t<frayCount;t++){const a=getRandomInt(-1,1)*(pixelSize/5);const c=Math.PI/fR1-Math.random()*(Math.PI/fR2);const s=o-Math.cos(c)*frayLength;const i=n-10+Math.sin(c)*frayLength+a;ctx.beginPath();ctx.moveTo(o,n);ctx.lineTo(s,i);ctx.strokeStyle=e;ctx.stroke()}}function getColorFromCode(t){return colorMap[t]}drawPixelArtRug();let timer;canvas.addEventListener("click",t=>t.detail===1&&(timer=setTimeout(()=>location.reload(),275)));canvas.addEventListener("dblclick",()=>{clearTimeout(timer);showModal()});function showModal(){const t=["1k","1kt","2k","2kt","3k","3kt","4k","4kt","8k","8kt","16k","16kt"];const e=document.createElement("div");e.className="modal";if(e){e.style.background="#000";e.style.boxShadow=`0 0 10px ${color5}`}t.forEach(t=>{const n=document.createElement("button");n.textContent=t;n.onclick=()=>{document.body.removeChild(e);scaleCanvas(parseInt(t),t.includes("t"))};e.appendChild(n);if(n){n.style.background="#000";n.style.color=color5;n.style.boxShadow=`0 0 10px ${color5}`}});document.body.appendChild(e)}function scaleCanvas(t,n){const e=canvas.width/canvas.height;const o=512*t;const a=o*e;const c=document.createElement("canvas");const s=c.getContext("2d");c.width=a;c.height=o;if(!n){s.fillStyle="#000000";s.fillRect(0,0,a,o)}const i=o/canvas.height;const r=canvas.width*i;const l=canvas.height*i;const d=(a-r)/2;const f=(o-l)/2;s.drawImage(canvas,d,f,r,l);const x=document.createElement("a");x.download=`F5RUGZ_${t}k_${n?"TP":"BLK"}.png`;x.href=c.toDataURL("image/png");x.click()}

    function releaseCanvas(c){c.width=1;c.style.width="1vw";c.height=1;c.style.height="1vh";const x=c.getContext("2d");x&&x.clearRect(0,0,1,1);c.remove()}window.addEventListener("pagehide",()=>{Array.prototype.slice.call(document.getElementsByTagName("canvas")).forEach(releaseCanvas)});</script></body></html>
